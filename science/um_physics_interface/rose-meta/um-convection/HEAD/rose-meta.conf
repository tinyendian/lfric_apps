#==============================================================================
# CONVECTION:
#==============================================================================

[namelist:convection]
compulsory=true
description=Convection parametrization
ns=namelist/Science/UM Convection
sort-key=Section-A06
title=Convection

[namelist:convection=cape_timescale]
compulsory=true
description=Timescale in seconds for CAPE closure scheme
help=This determines the e-folding time for the dissipation of CAPE.
    = There is some observational evidence for a timescale of the order of
    = an hour. The convection scheme seems to work better with a shorter CAPE
    = timescale of around half an hour (1800 secs).
!kind=default
range=1:9999999
sort-key=Panel-03
type=real

[namelist:convection=cv_scheme]
compulsory=true
description=Convection scheme
!enumeration=true
help=Convection scheme to use, options are:
    =GregoryRowntree  - UM 6A mass flux scheme
    =LambertLewis     - UM other convection scheme 10
    =Comorph          - ComorphA scheme
sort-key=Panel-01
trigger=namelist:convection=number_of_convection_substeps: 'gregory_rowntree';
       =namelist:convection=cape_timescale: 'gregory_rowntree';
       =namelist:convection=efrac: 'gregory_rowntree';
       =namelist:convection=prog_ent_min: 'gregory_rowntree';
       =namelist:convection=orig_mdet_fac: 'gregory_rowntree';
       =namelist:convection=par_gen_mass_fac: 'comorph';
       =namelist:convection=par_gen_rhpert: 'comorph';
       =namelist:convection=par_radius_ppn_max: 'comorph';
value-titles=GregoryRowntree, LambertLewis, Comorph
values='gregory_rowntree','lambert_lewis','comorph'

[namelist:convection=efrac]
compulsory=true
description=Evaporative fraction of fluxes at mid-level cloud base
help=This defines the ratio of latent heat flux to sensible plus latent
    = heat flux at mid-level cloud base due to the initial perturbation.
    = Only used if md_pert_opt=1 or 2. If md_pert_opt=2 then efrac just
    = sets the cloud base evaporative fracton away from the boundary
    = layer.
!kind=default
range=-10.0:10.0
sort-key=Panel-03b
type=real

[namelist:convection=number_of_convection_substeps]
compulsory=true
description=Number of convection substeps per model time step
help=Normal set to 2 for Gregory Rowntree scheme when used in the UM.
    =Ideally we would prefer this as 1
    =Has been set higher than 2 by users trying to avoid UM instabilities
    =in the past. Not recommended as a solution to model instabilities.
!kind=default
range=1:5
sort-key=Panel-02
type=integer

[namelist:convection=orig_mdet_fac]
compulsory=true
description=Factor multiplying the original mixing detrainment rate.
help=Factor multiplying the original mixing detrainment rate.
    =Original default 1.0
!kind=default
range=0.0:5.0
sort-key=Panel-03d
type=real

[namelist:convection=par_gen_mass_fac]
compulsory=true
description=Coefficient scaling the initiating mass sources (dimensionless)
help=Higher values could mean that the layer-cloud in unstable environments
    =convects away more rapidly, leading to reduced layer-cloud in such
    =environments.
    =Recommended value 0.25
!kind=default
range=0.01:1.0
sort-key=Panel-04
type=real

[namelist:convection=par_gen_rhpert]
compulsory=true
description=Comorph neutrally-buoyant parcel initial RH perturbation (fractional)
help=Sets the magnitude of the "background" parcel initial moisture excess
    = in Relative Humidity (decimal fraction).
!kind=default
sort-key=Panel-05
type=real

[namelist:convection=par_radius_ppn_max]
compulsory=true
description=Comorph precip rate at which max parcel radius scaling occurs.
help=Scales the parcel initial radius, which determines the entrainment rate.
!kind=default
sort-key=Panel-06
type=real

[namelist:convection=prog_ent_min]
compulsory=true
description=Minimum scaling when calculating entrainment from prognostic field
help=Minimum scaling applied when calculating entrainment scaling from
    = 3d prognostic field based on surface precipitation.
    = 6a scheme only. Used under ent_opt_md,ent_opt_dp=6 or 7 and needs
    = l_conv_prog_precip=T.
!kind=default
range=0.0:5.0
sort-key=Panel-03c
type=real

[namelist:convection=qlmin]
compulsory=true
description=Minimum critical cloud condensate
help=Minimum Critical Cloud Condensate
    =
    = This sets the minimum value of the critical cloud condensate profile.
    = This is related to the option settings for ccw_for_precip_opt.
    = This will always be applied for option 4 but will only be applied to
    = options 0-3 if PC2 is switched on.
!kind=default
range=0:1e-3
sort-key=Panel-03a
type=real
